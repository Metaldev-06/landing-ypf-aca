---
import Image from "astro/components/Image.astro";

import image1 from "../../../public/img/separator-1.jpg";
import image2 from "../../../public/img/separator-2.jpg";
import image3 from "../../../public/img/separator-3.jpg";
import image4 from "../../../public/img/separator-4.jpg";
import image5 from "../../../public/img/separator-5.jpg";
import image6 from "../../../public/img/separator-6.jpg";
---

<article class="separator__container">
  <div id="my-keen-slider" class="keen-slider">
    <div class="keen-slider__slide">
      <a
        href="https://serviclub.ypf.com/?_ga=2.166453497.654987654.1673280657-1638044193.1672922441"
        target="_blank"
      >
        <Image src={image1} alt="Serviclub" loading="lazy" />
      </a>
    </div>
    <div class="keen-slider__slide">
      <a href="https://elaion.com.ar/" target="_blank">
        <Image src={image2} alt="Elaion Auro" loading="lazy" />
      </a>
    </div>
    <div class="keen-slider__slide">
      <a href="https://infinia.com.ar/nafta/motor-interno.html" target="_blank">
        <Image src={image3} alt="Infinia Nafta" loading="lazy" />
      </a>
    </div>
    <div class="keen-slider__slide">
      <a href="https://boxes.ypf.com/" target="_blank">
        <Image src={image4} alt="Boxes" loading="lazy" />
      </a>
    </div>
    <div class="keen-slider__slide">
      <a
        href="https://infinia.com.ar/diesel/Infinia-diesel-el-combustible-de-ultima-tecnologia-de-YPF.html"
        target="_blank"
      >
        <Image src={image5} alt="Infinia Diesel" loading="lazy" />
      </a>
    </div>
    <div class="keen-slider__slide">
      <a href="https://infinia.com.ar/nafta/motor-interno.html" target="_blank">
        <Image src={image6} alt="Infinia Nafta" loading="lazy" />
      </a>
    </div>
  </div>
</article>

<style lang="scss">
  @import "../../styles/_variables.scss";

  .separator__container {
    width: 100%;
    // height: 200px;
    overflow: hidden;
    background-color: $footer-color;

    .keen-slider {
      width: 100%;
      display: flex;

      .keen-slider__slide {
        width: 100%;
        flex-grow: 1;

        a {
          img {
            width: 100%;
            height: auto;
            object-fit: cover;
            object-position: center;
          }

          &:hover {
            opacity: 0.5;
          }
        }
      }
    }
  }
</style>

<script>
  import KeenSlider from "keen-slider";

  const animation = { duration: 30000, easing: (t: any) => t };

  const slider = new KeenSlider("#my-keen-slider", {
    loop: true,
    slides: {
      perView: 5,
      spacing: 0,
    },
    renderMode: "precision",
    drag: false,
    created(s) {
      s.moveToIdx(5, true, animation);
    },
    updated(s) {
      s.moveToIdx(s.track.details.abs + 5, true, animation);
    },
    animationEnded(s) {
      s.moveToIdx(s.track.details.abs + 5, true, animation);
    },
  });
</script>
